(this.webpackJsonpVkMiniAppTest2=this.webpackJsonpVkMiniAppTest2||[]).push([[0],{115:function(e,t,a){},192:function(e,t,a){e.exports=a(298)},275:function(e,t,a){},297:function(e,t,a){e.exports=a.p+"static/media/plus.b99e8ee2.svg"},298:function(e,t,a){"use strict";a.r(t);a(193),a(219),a(221),a(222),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261);var n=a(0),l=a.n(n),c=a(116),r=a.n(c),i=a(45),s=a.n(i),d=a(81),m=a.n(d),o=a(117),u=a(53),E=a(77),h=a.n(E),v=(a(270),a(47)),b=a.n(v),p=a(52),g=a.n(p),f=a(61),w=a.n(f),y=a(118),j=a.n(y),k=a(120),I=a.n(k),O=a(119),T=a.n(O),N=a(60),A=a(59),x=a(7),_=(a(275),function(e){var t=e.id,a=e.go,n=e.days,c=e.fetchedUser;e.activeId,e.setActiveId;return l.a.createElement(b.a,{id:t},l.a.createElement(g.a,null,"\u0414\u043d\u0435\u0432\u043d\u0438\u043a"),c&&l.a.createElement(w.a,{title:"\u042d\u0442\u043e \u0432\u044b :)"},l.a.createElement(j.a,{before:c.photo_200?l.a.createElement(T.a,{src:c.photo_200}):null,description:c.city&&c.city.title?c.city.title:""},"".concat(c.first_name," ").concat(c.last_name))),l.a.createElement(w.a,null,l.a.createElement(I.a,null,l.a.createElement(w.a,null,l.a.createElement(N.a,null,n.map((function(e,t){return l.a.createElement(A.a,{size:"l",mode:"shadow"},l.a.createElement("div",{class:"table"},l.a.createElement("div",{className:"header"},e.dayTitle),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"table"},e.lessons.map((function(e,n){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"cell index"},l.a.createElement("div",null,n+1)),l.a.createElement("div",{className:"cell hw"},l.a.createElement("div",{className:null!=e.subject||null!=e.homework?"visible":"hidden"},l.a.createElement("div",{className:"subject"},e.subject),l.a.createElement("div",{className:"small-hw"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0414\u0417")),l.a.createElement("div",{className:null==e.subject&&null==e.homework?"visible add":"hidden"},l.a.createElement(x.f,{onClick:a,"data-to":"add","data-dayid":t,"data-lesid":n},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0414\u0417/\u0423\u0440\u043e\u043a"))),l.a.createElement("div",{className:"cell grade",class:4===e.grade||5===e.grade?"cell grade good":"cell grade bad"},l.a.createElement("div",null,e.grade)))}))))))})))))))}),C=a(80),K=a.n(C),U=a(78),V=a.n(U),z=a(79),S=a.n(z),M=(a(297),a(115),Object(x.i)()),P=function(e){var t=e.id,a=e.go,n=e.activeId,c=e.activeLessId;return l.a.createElement(b.a,{id:t},l.a.createElement(g.a,{left:l.a.createElement(K.a,{onClick:a,"data-to":"home","data-lid":"123"},M===x.e?l.a.createElement(V.a,null):l.a.createElement(S.a,null))},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0414\u0417/\u0423\u0440\u043e\u043a"),l.a.createElement(x.d,null,"dayId: ",n,l.a.createElement("br",null),"lessonId: ",c))},W=(Object(x.i)(),function(e){var t=e.id,a=e.go,n=e.user,c=e.setActivePanel;return l.a.createElement(b.a,{id:t},l.a.createElement(x.d,null,l.a.createElement(x.h,{level:"1",weight:"semibold",style:{marginTop:16}},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0414\u043d\u0435\u0432\u043d\u0438\u043a!")),l.a.createElement(x.d,{style:{MarginTop:64}},l.a.createElement(x.h,{level:"2",weight:"semibold"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c, \u043a\u0430\u043a...")),l.a.createElement(x.c,null,l.a.createElement(x.b,{mode:"shadow",size:"l"},l.a.createElement(x.d,null,l.a.createElement(x.h,{level:"3",weight:"semibold"},"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"),l.a.createElement(x.g,{weight:"medium"},"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0447\u0435\u0431\u043d\u044b\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u043a\u043b\u0430\u0441\u0441\u044b (\u0433\u0440\u0443\u043f\u043f\u044b), \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0443\u0447\u0438\u0442\u0435\u043b\u0435\u0439 \u0438 \u043f\u0440\u0438\u0441\u0432\u0430\u0438\u0432\u0430\u0442\u044c \u0438\u043c \u043a\u043b\u0430\u0441\u0441\u044b. \u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u043e\u0432 \u0432 \u0443\u0447\u0435\u0431\u043d\u043e\u043c \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e. \u0422\u0430\u043a\u0436\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0443\u0447\u0438\u0442\u0435\u043b\u044f."),l.a.createElement("div",{style:{display:"flex",marginTop:16}},l.a.createElement(x.a,{stretched:!0,onClick:a,"data-to":"home"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c, \u043a\u0430\u043a \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440")))),l.a.createElement(x.b,{mode:"shadow",size:"l"},l.a.createElement(x.d,null,l.a.createElement(x.h,{level:"3",weight:"semibold"},"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c"),l.a.createElement(x.g,{weight:"medium"},"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0438 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f, \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0438 \u0434\u043b\u044f ",l.a.createElement("b",null,"\u043a\u043b\u0430\u0441\u0441\u043e\u0432")," (\u0433\u0440\u0443\u043f\u043f)."),l.a.createElement("div",{style:{display:"flex",marginTop:16}},l.a.createElement(x.a,{stretched:!0,onClick:a,"data-to":"home"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c, \u043a\u0430\u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c")))),l.a.createElement(x.b,{mode:"shadow",size:"l",style:{marginBottom:20}},l.a.createElement(x.d,null,l.a.createElement(x.h,{level:"3",weight:"semibold"},"\u0423\u0447\u0435\u043d\u0438\u043a"),l.a.createElement(x.g,{weight:"medium"},"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c, \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0438 \u043e\u0446\u0435\u043d\u043a\u0438 ",l.a.createElement("b",null,"\u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e")," \u0434\u043b\u044f \u0412\u0430\u0441. \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0443\u0447\u0435\u0431\u043d\u043e\u043c\u0443 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044e."),l.a.createElement("div",{style:{display:"flex",marginTop:16}},l.a.createElement(x.a,{stretched:!0,onClick:function(){return function(){if(null!=n){var e=n.id;fetch("https://grinwald.ru/api/dnevnik/register?user_id="+e+"&role=0").then((function(e){return e.json()})).then((function(e){"OK"===e.response&&c("home")}))}}()},"data-to":"home"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c, \u043a\u0430\u043a \u0443\u0447\u0435\u043d\u0438\u043a"))))))}),B=function(){var e=Object(n.useState)("welcome"),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(u.a)(r,2),d=i[0],E=i[1],v=Object(n.useState)(0),b=Object(u.a)(v,2),p=b[0],g=b[1],f=Object(n.useState)(0),w=Object(u.a)(f,2),y=w[0],j=w[1];Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,E(t),fetch("https://grinwald.ru/api/dnevnik/getUser?user_id="+t.id).then((function(e){return e.json()})).then((function(e){"OK"===e.status&&c("home")}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var l=document.createAttribute("scheme");l.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(l)}})),function(){e.apply(this,arguments)}()}),[]);var k=function(e){var t=e.currentTarget.dataset.to,a=e.currentTarget.dataset.dayid,n=e.currentTarget.dataset.lesid;null!=a&&g(a),null!=n&&j(n),c(t)},I=[{subject:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",grade:5,homework:"null"},{subject:"\u0418\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u044b\u0439 \u044f\u0437\u044b\u043a",grade:4,homework:"null"},{subject:null,grade:3,homework:null},{subject:"\u0424\u0438\u0437\u0438\u043a\u0430",grade:2,homework:"asdasd"}],O=[{dayTitle:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430, 1 \u043c\u0430\u044f",lessons:I},{dayTitle:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430, 2 \u043c\u0430\u044f",lessons:I},{dayTitle:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a, 4 \u043c\u0430\u044f",lessons:I}];return l.a.createElement(h.a,{activePanel:a,popout:null},l.a.createElement(_,{id:"home",fetchedUser:d,days:O,go:k,activeId:p,setActiveId:g}),l.a.createElement(P,{id:"add",go:k,activeId:p,activeLessId:y,setActiveId:g}),l.a.createElement(W,{id:"welcome",go:k,user:d,setActivePanel:c}))};s.a.send("VKWebAppInit"),r.a.render(l.a.createElement(B,null),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.61ac0c3e.chunk.js.map